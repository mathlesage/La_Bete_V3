# Prompts pour hard negatives (jugés uniquement par LLM)
prompts:
  query_based:
    - name: "semantic_drift"
      prompt: |

          Tu vas réécrire le texte {query} en changeant radicalement de sujet. Le nouveau texte doit être un 'clone structurel' de l'original, mais traiter d'un sujet complètement différent.\n\n**Règles strictes à suivre :**\n1.  **Changement de Thème Radical :** Identifie le sujet principal du texte (ex: football, histoire, biologie). Remplace-le par un thème totalement différent et sans aucun rapport logique (ex: cuisine, aérospatiale, musique, finance).\n2.  **Substitution du Lexique :** Change les noms, verbes et adjectifs spécifiques au thème original par des mots appartenant au nouveau thème. Le résultat doit être cohérent dans son nouveau domaine.\n3.  **Conservation de la Structure :** Conserve IMPÉRATIVEMENT la structure exacte des phrases, la ponctuation, les mots de liaison (et, ou, donc, mais, car...), les pronoms et la longueur générale.\n\n**INTERDICTIONS FORMELLES :**\n-   **NE PAS PARAPHRASER :** Une paraphrase reformule la même idée. Ton but est de changer l'idée en gardant la même 'coquille' de phrase. Le sens doit être entièrement nouveau.\n-   **NE PAS RECOPIER :** Le texte généré doit être différent de l'original.\n\n**Exemple de transformation réussie :**\n*   **Texte original (Thème: Botanique) :** \"La véronique à feuilles d'ortie est une petite plante à fleurs lilas poussant dans les zones montagneuses. Ses feuilles triangulaires et dentées évoquent celles de l'ortie.\"\n*   **Texte transformé (Thème: Aéronautique) :** \"Le drone à hélice de reconnaissance est un petit engin à propulseurs bleus évoluant dans les zones industrielles. Ses caméras triangulaires et zoomées évoquent celles du faucon pèlerin.\"\n\nLe texte transformé partage la structure de l'original mais parle de drones, pas de plantes. C'est ton objectif.\n\nGénère uniquement le texte transformé.\n


    - name: "domain_shift"
      prompt: |
        Ton objectif est de créer un 'hard negative' : un texte qui sert de leurre sémantique. Il doit ressembler au texte de base par sa forme, mais traiter d'un sujet complètement différent.

        Texte de base :
        {base}

        **INSTRUCTIONS STRICTES :**

        1.  **CHANGEMENT RADICAL DE SUJET** : Le texte généré doit porter sur un domaine thématique totalement différent de l'original. Le sens doit être entièrement nouveau.
            *   Si le texte parle de politique, parle de biologie.
            *   Si le texte parle d'histoire, parle d'informatique.
            *   Le résultat ne doit **JAMAIS** être une paraphrase.

        2.  **SIMILARITÉ SUPERFICIELLE (LE LEURRE)** : Pour que le leurre fonctionne, tu dois imiter la surface du texte original.
            *   **Conserve le style et la complexité** : Un texte formel reste formel. Une phrase longue et complexe est remplacée par une autre phrase longue et complexe.
            *   **Imite la structure globale** : Si le texte de base est une définition suivie d'une liste, ton texte doit aussi l'être. Ne copie pas la grammaire mot pour mot, mais le squelette général.
            *   **Réutilise des mots-clés dans un nouveau contexte** : C'est le point crucial. Reprends 1 à 3 mots importants (noms, verbes) du texte de base et utilise-les dans ton nouveau domaine pour créer une fausse piste. Le mot "croissance" peut s'appliquer à l'économie ou à une plante.

        3.  **INTERDICTIONS FORMELLES** :
            *   **NE PAS COPIER** le texte de base, même partiellement.
            *   **NE PAS PARAPHRASER** ou reformuler l'idée originale.
            *   **NE PAS ÉCRIRE DE TEXTE ABSURDE** ou incohérent. Le texte généré doit être plausible et bien écrit.

        **EXEMPLES :**

        *   **Base (Politique) :** `L'État haïtien est représenté dans chacun d'eux par un Délégué départemental qui supervise les différentes directions départementales des ministères.`
        *   **Négatif (Entreprise) :** `Le groupe Acor est représenté dans chaque filiale par un Directeur régional qui supervise les différentes branches opérationnelles des départements.`
            *(Analyse : La structure de pouvoir est imitée, mais le domaine passe de l'État à l'entreprise. Les mots "représenté", "supervise", "département" sont réutilisés dans un nouveau contexte.)*

        *   **Base (Art/Histoire) :** `"Byzantium and Islam : Age of Transition" est une exposition très intéressante retraçant l'expansion simultanée de l'Empire byzantin et de l'islam.`
        *   **Négatif (Cosmologie) :** `"Big Bang et Inflation : Âge de Transition" est une théorie très complexe décrivant l'expansion primordiale de l'Univers et de la matière.`
            *(Analyse : Le domaine passe de l'histoire à la cosmologie. Les mots "Age of Transition" et "expansion" sont conservés mais leur sens est totalement différent.)*

        Produis uniquement le texte transformé.


    - name: "Divergence_Sémantique"
      prompt: |
          À partir du texte source, génère une nouvelle requête.\n\n**Règles strictes :**\n\n1.  **Similarité de surface :** Réutilise les noms propres (personnes, lieux, organisations) et les termes clés du texte source. La nouvelle requête doit ressembler au texte source au premier coup d'œil.\n\n2.  **Divergence de fond :** Le sens doit être radicalement différent. La nouvelle requête ne doit **jamais** être une paraphrase, un résumé ou une question directe sur le contenu source. Elle doit explorer une facette totalement nouvelle, souvent opposée ou inattendue.\n\n**Techniques obligatoires pour la divergence :**\n\n*   **Inversion de l'intention :** Si le texte source est positif (ex: éloge d'un produit, succès d'une politique), la requête doit chercher ses failles, ses critiques, ses impacts négatifs ou ses échecs. Si le texte est négatif, la requête peut explorer une justification contre-intuitive ou un bénéfice caché.\n*   **Changement de cadre analytique :** Si le texte source décrit un fait (historique, technique), la requête doit le déplacer vers un autre domaine d'analyse (ex: passer d'une biographie à une analyse de l'impact économique de ses actions; passer d'une description technique à une question sur ses implications éthiques).\n*   **Association complexe :** Mettre en relation le sujet principal avec un autre concept, une autre période ou un autre domaine pour forcer une analyse comparative complexe et non évidente.\n\n**Exemple parfait :**\n*   **Texte source :** \"19/10/2011 - Le Mexique a progressé, mais doit accorder une plus grande priorité à la répression pénale des actes de corruption...\"\n*   **Requête générée (correcte) :** \"Analyser les mécanismes par lesquels le Mexique pourrait encourager la déductibilité fiscale des pots-de-vin versés à des agents publics étrangers.\"\n\n**Texte source :** {query}\n\nNe retourne que la requête générée.

    - name: "syntactic_similarity"
      prompt: |
          Ton objectif est de réécrire le paragraphe `{query}` pour créer un 'jumeau sémantique'. Le nouveau texte doit avoir une structure de phrase et un vocabulaire de surface très similaires à l'original, mais un sens totalement différent et sans rapport.\n\nRègles strictes à suivre :\n1.  **Conserve la structure :** Garde la même syntaxe, la même ponctuation, les mêmes mots de liaison (et, ou, donc, mais...), et la même organisation générale.\n2.  **Change radicalement le sujet :** Identifie le thème principal du texte (ex: informatique, politique, sport). Remplace les noms, verbes et adjectifs clés de ce thème par un ensemble cohérent de mots d'un domaine complètement différent et inattendu (ex: cuisine, jardinage, astronomie, musique, mythologie).\n3.  **INTERDICTION FORMELLE DE PARAPHRASER :** Ne remplace jamais un mot par son synonyme. Le changement de sens doit être total. Le nouveau sujet ne doit avoir aucun lien sémantique avec le sujet d'origine.\n\nExemples :\n- **BASE :** \"Comment installer la dernière version de Python sur un système d'exploitation Mac ?\"\n- **À FAIRE (Changement de thème radical) :** \"Comment préparer la dernière recette de python au four avec une garniture de pommes de terre ?\" (Thème: Informatique → Cuisine)\n- **À NE PAS FAIRE (Paraphrase interdite) :** \"Comment mettre en place la nouvelle mouture de Python sur un OS Apple ?\"\n\n- **BASE :** \"Le président a annoncé de nouvelles mesures pour renforcer la sécurité nationale.\"\n- **À FAIRE (Changement de thème radical) :** \"Le chef d'orchestre a annoncé de nouvelles mesures pour renforcer la cohésion de la section des cuivres.\" (Thème: Politique → Musique)\n- **À NE PAS FAIRE (Paraphrase interdite) :** \"Le chef de l'État a déclaré des régulations inédites pour consolider la sûreté du pays.\"\n\nRéécris le paragraphe suivant en respectant ces règles. Ne renvoie que le texte modifié.\n\nParagraphe à modifier : {query}

  positive_based:
    - name: "near_miss"
      prompt: |
          Ton objectif est de créer un 'leurre sémantique' à partir du texte fourni. Le nouveau texte doit être un 'hard negative': il doit ressembler fortement à l'original (structure, style, certains mots) mais traiter d'un sujet complètement différent.\n\n### Règles strictes à suivre :\n1.  **Changement de Thème Radical** : Identifie le domaine ou le sujet principal du texte (ex: science, histoire, technologie) et remplace-le par un domaine totalement différent (ex: cuisine, sport, musique, jardinage). Le changement doit être profond, pas superficiel.\n2.  **Maintien de la Forme** : Conserve scrupuleusement la structure grammaticale, la ponctuation, le ton (interrogatif, affirmatif...) et la longueur des phrases. La 'musique' du texte doit rester la même.\n3.  **Pas de Paraphrase** : Ne reformule JAMAIS la même idée avec d'autres mots. Le but est de créer une nouvelle information dans un moule ancien, pas de redire la même chose différemment. Toute copie, même partielle, ou paraphrase est interdite.\n4.  **Plausibilité** : Le texte généré doit être cohérent et avoir du sens. Évite les associations de mots absurdes.\n\n### Exemples :\n\n**Exemple 1 : BON (Changement de thème réussi)**\n*   **BASE** : \"Comment cette crise pharmacologique a-t-elle impulsé une course contre la montre pour le DSC ?\"\n*   **NÉGATIF VALIDE** : \"Comment cette défaite en championnat a-t-elle impulsé une course contre la montre pour le mercato ?\" \n*(Analyse : Le thème 'crise médicale' est remplacé par 'compétition sportive'. La structure interrogative et le sentiment d'urgence sont conservés.)*\n\n**Exemple 2 : MAUVAIS (Copie ou paraphrase)**\n*   **BASE** : \"Le nom de Brécey apparaît au XVe siècle, avec un port historique et des châteaux.\"\n*   **NÉGATIF REFUSÉ** : \"Le nom de Brécey est mentionné au 15ème siècle, avec un port d'époque et des forteresses.\"\n*(Analyse : C'est une simple paraphrase qui conserve le même sujet et la même information.)*\n\nTexte à transformer :\n{positive}\n\nNe renvoie que le texte transformé.

    - name: "context_swap"
      prompt: | 
          À partir du texte de référence, rédige un jumeau sémantique opposé.\n\nTexte de référence :\n{positive}\n\nLe nouveau texte doit calquer la structure, le vocabulaire et le ton de l'original pour créer une illusion de similarité. Cependant, substitue les informations clés pour inverser le sens profond. Modifie systématiquement les éléments suivants :\n- Les entités : personnes, lieux, organisations.\n- Les données : chiffres, dates, pourcentages.\n- Les concepts : un succès devient un échec, une découverte une supercherie, une collaboration une trahison.\n- Les relations logiques : inverse les liens de cause à effet.\n\nN'utilise pas de simples négations (ex: \"n'est pas\"). La transformation doit provenir de la substitution d'informations, pas d'une simple contradiction grammaticale. Le résultat doit être un texte autonome et plausible qui, mis en regard de l'original, révèle une incompatibilité factuelle totale. Toute paraphrase ou copie du texte source est proscrite.
  
  
  
    - name: "semantic_drift"
      prompt: |

          Tu vas réécrire le texte {positive} en changeant radicalement de sujet. Le nouveau texte doit être un 'clone structurel' de l'original, mais traiter d'un sujet complètement différent.\n\n**Règles strictes à suivre :**\n1.  **Changement de Thème Radical :** Identifie le sujet principal du texte (ex: football, histoire, biologie). Remplace-le par un thème totalement différent et sans aucun rapport logique (ex: cuisine, aérospatiale, musique, finance).\n2.  **Substitution du Lexique :** Change les noms, verbes et adjectifs spécifiques au thème original par des mots appartenant au nouveau thème. Le résultat doit être cohérent dans son nouveau domaine.\n3.  **Conservation de la Structure :** Conserve IMPÉRATIVEMENT la structure exacte des phrases, la ponctuation, les mots de liaison (et, ou, donc, mais, car...), les pronoms et la longueur générale.\n\n**INTERDICTIONS FORMELLES :**\n-   **NE PAS PARAPHRASER :** Une paraphrase reformule la même idée. Ton but est de changer l'idée en gardant la même 'coquille' de phrase. Le sens doit être entièrement nouveau.\n-   **NE PAS RECOPIER :** Le texte généré doit être différent de l'original.\n\n**Exemple de transformation réussie :**\n*   **Texte original (Thème: Botanique) :** \"La véronique à feuilles d'ortie est une petite plante à fleurs lilas poussant dans les zones montagneuses. Ses feuilles triangulaires et dentées évoquent celles de l'ortie.\"\n*   **Texte transformé (Thème: Aéronautique) :** \"Le drone à hélice de reconnaissance est un petit engin à propulseurs bleus évoluant dans les zones industrielles. Ses caméras triangulaires et zoomées évoquent celles du faucon pèlerin.\"\n\nLe texte transformé partage la structure de l'original mais parle de drones, pas de plantes. C'est ton objectif.\n\nGénère uniquement le texte transformé.\n


llm:
  rotation:
    - model: "openai/gpt-4.1-nano"
      provider: "openai"
    - model: "google/gemini-2.5-flash-lite"
      provider: "google-vertex"
    - model: "meta-llama/llama-4-maverick"
      provider: "lambda"
    - model: "deepseek/deepseek-chat-v3-0324"
      provider: "DeepInfra"
